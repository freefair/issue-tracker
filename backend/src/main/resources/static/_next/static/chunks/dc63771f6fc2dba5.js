(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t,r=e.i(43476),a=e.i(71645);let s=e.i(47167).default.env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api";async function o(e,t){let r=await fetch(`${s}${e}`,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!r.ok)throw Error(`API error: ${r.statusText}`);return r.json()}var i=((t={}).BACKLOG="BACKLOG",t.TODO="TODO",t.IN_PROGRESS="IN_PROGRESS",t.DONE="DONE",t);function n({task:e,onUpdate:t,onDelete:s}){let[o,i]=(0,a.useState)(!1),[n,l]=(0,a.useState)(e.title),[d,c]=(0,a.useState)(e.description);return o?(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 shadow-md border border-blue-500",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),className:"w-full mb-2 bg-transparent text-sm font-medium text-gray-900 dark:text-white focus:outline-none",placeholder:"Task title"}),(0,r.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),className:"w-full bg-transparent text-xs text-gray-600 dark:text-gray-400 focus:outline-none resize-none",placeholder:"Description (optional)",rows:2}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,r.jsx)("button",{onClick:()=>{n.trim()&&(t(e.id,{title:n.trim(),description:d.trim()}),i(!1))},className:"px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Save"}),(0,r.jsx)("button",{onClick:()=>{l(e.title),c(e.description),i(!1)},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-xs font-medium hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"})]})]}):(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 shadow-sm hover:shadow-md transition-all cursor-pointer border border-gray-200 dark:border-gray-600 group",onClick:()=>i(!0),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex-1",children:e.title}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),confirm("Delete this task?")&&s(e.id)},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-all",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),e.description&&(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,t)=>(0,r.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 rounded-md text-xs font-medium",children:e},t))})]})}function l({title:e,status:t,tasks:s,onCreateTask:o,onUpdateTask:i,onDeleteTask:l}){let[d,c]=(0,a.useState)(!1),[x,g]=(0,a.useState)(""),u=()=>{x.trim()&&(o(x.trim(),t),g(""),c(!1))};return(0,r.jsxs)("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-2xl p-4 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:e}),(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-xs font-medium text-gray-600 dark:text-gray-400",children:s.length})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[s.map(e=>(0,r.jsx)(n,{task:e,onUpdate:i,onDelete:l},e.id)),d?(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-3 shadow-sm border border-gray-200 dark:border-gray-600",children:[(0,r.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u(),"Escape"===e.key&&(c(!1),g(""))},placeholder:"Task title...",className:"w-full bg-transparent text-sm text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none",autoFocus:!0}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)("button",{onClick:u,className:"px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Add"}),(0,r.jsx)("button",{onClick:()=>{c(!1),g("")},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-xs font-medium hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"})]})]}):(0,r.jsxs)("button",{onClick:()=>c(!0),className:"w-full py-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-all flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M12 4v16m8-8H4"})}),"Add task"]})]})]})}let d=[{status:i.BACKLOG,title:"Backlog",color:"gray"},{status:i.TODO,title:"To Do",color:"blue"},{status:i.IN_PROGRESS,title:"In Progress",color:"yellow"},{status:i.DONE,title:"Done",color:"green"}];function c({tasks:e,onCreateTask:t,onUpdateTask:a,onDeleteTask:s}){return(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(o=>{let i;return(0,r.jsx)(l,{title:o.title,status:o.status,color:o.color,tasks:(i=o.status,e.filter(e=>e.status===i).sort((e,t)=>e.position-t.position)),onCreateTask:t,onUpdateTask:a,onDeleteTask:s},o.status)})})})}function x({boards:e,selectedBoard:t,onSelectBoard:a}){return(0,r.jsx)("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Issue Tracker"}),e.length>0&&(0,r.jsx)("select",{value:t?.id||"",onChange:t=>{let r=e.find(e=>e.id===t.target.value);r&&a(r)},className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))})]})})})})}function g(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(null),[n,l]=(0,a.useState)([]),[d,g]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{h()},[]),(0,a.useEffect)(()=>{s&&y(s.id)},[s]);let h=async()=>{try{g(!0);let e=await o("/boards");t(e),e.length>0&&!s&&i(e[0])}catch(e){m(e instanceof Error?e.message:"Failed to load boards")}finally{g(!1)}},y=async e=>{try{let t,r=await (t=e,o(`/boards/${t}/tasks`));l(r)}catch(e){m(e instanceof Error?e.message:"Failed to load tasks")}},p=async(e,t)=>{if(s)try{let r,a=n.filter(e=>e.status===t).reduce((e,t)=>Math.max(e,t.position),0);await (r={boardId:s.id,title:e,status:t,position:a+1},o(`/boards/${r.boardId}/tasks`,{method:"POST",body:JSON.stringify(r)})),y(s.id)}catch(e){m(e instanceof Error?e.message:"Failed to create task")}},b=async(e,t)=>{try{let r,a;await (r=e,a=t,o(`/tasks/${r}`,{method:"PATCH",body:JSON.stringify(a)})),y(s.id)}catch(e){m(e instanceof Error?e.message:"Failed to update task")}},k=async e=>{try{let t;await (t=e,o(`/tasks/${t}`,{method:"DELETE"})),y(s.id)}catch(e){m(e instanceof Error?e.message:"Failed to delete task")}};return d?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})}):u?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:["Error: ",u]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(x,{boards:e,selectedBoard:s,onSelectBoard:i,onCreateBoard:async(e,t)=>{let r;await (r=e,o("/boards",{method:"POST",body:JSON.stringify({name:r,description:t})})),h()}}),s&&(0,r.jsx)(c,{board:s,tasks:n,onCreateTask:p,onUpdateTask:b,onDeleteTask:k})]})}e.s(["default",()=>g],31713)}]);